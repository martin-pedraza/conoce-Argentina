<!DOCTYPE html>
<html>

  <%- include('./partials/head') %>

  <body class="bg-secondary bg-gradient bg-opacity-25">
    <%- include('./partials/nav') %>

    <main class="container">
      <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators d-none d-sm-flex">
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <% for(let i=1; i<slides.length; i++) { %>
            <% if(slides[i].removed == 0) { %> 
              <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="<%= i %>" aria-label="Slide <%= i %>  "></button>
            <% } %> 
          <% } %> 
        </div>
        
        <div class="carousel-inner d-none d-sm-block">
          <div class="carousel-item active" data-bs-interval="4000">
            <img src="/<%= presentation.img %>" class="d-block vh-100" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5><%= presentation.title %></h5>
              <p><%= presentation.description %></p>
            </div>
          </div>

          <% for(let i=1; i<slides.length; i++) { %>
            <% if(slides[i].removed == 0) { %> 
              <div class="carousel-item" data-bs-interval="1000">
                <img src="/<%= slides[i].img %>" class="d-block vh-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                  <h5><%= slides[i].title %></h5>
                  <p><%= slides[i].description %></p>
                </div>
              </div>
            <% } %> 
          <% } %> 
        </div>
        <div class="d-none d-sm-flex">
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
    </main>

    <section id="section" class="container d-flex justify-content-evenly">
      <% for(s of slides) { %>
        <% if(s.id != 0) { %>  
          <div class="card my-3" style="width: 18rem;">
            <img src="/<%= s.img %>" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title"><%= s.title %></h5>
              <p class="card-text"><%= s.description %> </p>
            </div>
            <div class="card-body d-flex justify-content-evenly">
              <% if(s.removed == 1) { %> 
                <form action="/slide/activate/<%= s.id %>?_method=put" method="post">
                  <button class="btn btn-outline-success"><i class="bi bi-check-circle-fill"></i></button>
                </form>
              <% } else { %> 
                <form action="/slide/edit/:id" method="get">
                  <button class="btn btn-outline-warning"><i class="bi bi-pencil-square"></i></button>
                </form>
                <form action="/slide/remove/<%= s.id %>?_method=delete" method="post">
                  <button class="btn btn-outline-danger"><i class="bi bi-trash3-fill"></i></button>
                </form>
              <% } %> 
            </div>
          </div>
        <% } %> 
      <% } %> 
    </section>

    <%- include('./partials/footer') %>
  </body>
</html>
